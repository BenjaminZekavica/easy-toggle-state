"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}!function(t){var e="data-toggle-class",a="data-toggle-event",r="data-toggle-outside",i=function(e){return e.hasAttribute("data-toggle-target-all")?t.querySelectorAll(e.getAttribute("data-toggle-target-all")):e.hasAttribute("data-toggle-target-parent")?e.parentElement.querySelectorAll(e.getAttribute("data-toggle-target-parent")):e.hasAttribute("data-toggle-target-self")?e.querySelectorAll(e.getAttribute("data-toggle-target-self")):[]},n=function i(n){var o=n.target;o.closest('[data-toggle-state="true"]')||([].concat(_toConsumableArray(t.querySelectorAll("["+e+"]["+r+"]"))).forEach(function(t){t!=o&&t.isToggleActive&&c(t)}),o.hasAttribute(r)&&o.isToggleActive&&t.addEventListener(o.getAttribute(a)||"click",i,!1))},o=function(t){c(t.target.targetElement)},l=function(e){e.hasAttribute(r)&&(e.isToggleActive?t.addEventListener(e.getAttribute(a)||"click",n,!1):t.removeEventListener(e.getAttribute(a)||"click",n,!1))},g=function(t,e){e.hasAttribute(r)&&t.setAttribute("data-toggle-state",e.isToggleActive);var a=t.querySelectorAll("[data-toggle-trigger-off]");a.length>0&&(e.isToggleActive?a.forEach(function(t){t.targetElement=e,t.addEventListener("click",o,!1)}):a.forEach(function(t){t.removeEventListener("click",o,!1)}))},c=function(t){var a=t.getAttribute(e);t.isToggleActive=!t.isToggleActive,t.hasAttribute("data-toggle-target-only")||t.classList.toggle(a),t.hasAttribute("aria-expanded")&&t.setAttribute("aria-expanded",t.isToggleActive),t.hasAttribute("aria-selected")&&t.setAttribute("aria-selected",t.isToggleActive);for(var r=i(t),n=0;n<r.length;n++)r[n].classList.toggle(a),g(r[n],t);l(t)},s=function(){[].concat(_toConsumableArray(t.querySelectorAll("["+e+"][data-toggle-is-active]"))).forEach(function(t){t.isToggleActive=!0;var a=t.getAttribute(e);t.hasAttribute("data-toggle-target-only")||t.classList.contains(a)||t.classList.add(a),t.hasAttribute("aria-expanded")&&t.getAttribute("aria-expanded")&&t.setAttribute("aria-expanded",!0),t.hasAttribute("aria-selected")&&!t.getAttribute("aria-selected")&&t.setAttribute("aria-selected",!0);for(var r=i(t),n=0;n<r.length;n++)r[n].classList.contains(t.getAttribute(e))||r[n].classList.add(a),g(r[n],t);l(t)}),[].concat(_toConsumableArray(t.querySelectorAll("["+e+"]"))).forEach(function(t){t.addEventListener(t.getAttribute(a)||"click",function(e){e.preventDefault(),c(t)},!1)});var r=[].concat(_toConsumableArray(t.querySelectorAll("["+e+"][data-toggle-escape]")));r.length>0&&t.addEventListener("keyup",function(t){("key"in(t=t||window.event)?"Escape"===t.key||"Esc"===t.key:27===t.keyCode)&&r.forEach(function(t){t.isToggleActive&&c(t)})},!1)};t.addEventListener("DOMContentLoaded",function e(){s(),t.removeEventListener("DOMContentLoaded",e)}),window.initEasyToggleState=s}(document);
//# sourceMappingURL=easy-toggle-state.min.js.map
