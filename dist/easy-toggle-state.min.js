!function(){"use strict";var t=function(t){return"data-toggle-"+t},e={CLASS:t("class"),TARGET_ALL:t("target-all"),TARGET_PARENT:t("target-parent"),TARGET_SELF:t("target-self"),IS_ACTIVE:t("is-active"),GROUP:t("group"),EVENT:t("event"),OUTSIDE:t("outside"),TARGET_ONLY:t("target-only"),ESCAPE:t("escape"),TRIGGER_OFF:t("trigger-off"),TARGET_STATE:t("state"),EXPANDED:"aria-expanded",SELECTED:"aria-selected"},r=function(t){return t.hasAttribute(e.TARGET_ALL)?document.querySelectorAll(t.getAttribute(e.TARGET_ALL)):t.hasAttribute(e.TARGET_PARENT)?t.parentElement.querySelectorAll(t.getAttribute(e.TARGET_PARENT)):t.hasAttribute(e.TARGET_SELF)?t.querySelectorAll(t.getAttribute(e.TARGET_SELF)):[]},n=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)},i=function(t){var r=[];return[].concat(n(document.querySelectorAll("["+e.CLASS+"]["+e.GROUP+'="'+t+'"]'))).forEach(function(t){t.isToggleActive&&r.push(t)}),r},o=function t(r){var i=r.target;i.closest("["+e.TARGET_STATE+'="true"]')||([].concat(n(document.querySelectorAll("["+e.CLASS+"]["+e.OUTSIDE+"]"))).forEach(function(t){t!=i&&t.isToggleActive&&(t.hasAttribute(e.GROUP)?a(t):u(t))}),i.hasAttribute(e.OUTSIDE)&&i.isToggleActive&&document.addEventListener(i.getAttribute(e.EVENT)||"click",t,!1))},c=function(t){u(t.target.targetElement)},A=function(t){t.hasAttribute(e.OUTSIDE)&&(t.hasAttribute(e.GROUP)?console.warn("You can't use '"+e.OUTSIDE+"' on a grouped trigger"):t.isToggleActive?document.addEventListener(t.getAttribute(e.EVENT)||"click",o,!1):document.removeEventListener(t.getAttribute(e.EVENT)||"click",o,!1))},E=function(t,r){r.hasAttribute(e.OUTSIDE)&&t.setAttribute(e.TARGET_STATE,r.isToggleActive);var n=t.querySelectorAll("["+e.TRIGGER_OFF+"]");n.length>0&&(r.isToggleActive?n.forEach(function(t){t.targetElement=r,t.addEventListener("click",c,!1)}):n.forEach(function(t){t.removeEventListener("click",c,!1)}))},a=function(t){var r=i(t.getAttribute(e.GROUP));r.length>0?-1===r.indexOf(t)&&(r.forEach(function(t){u(t)}),u(t)):u(t)},u=function(t){var n=t.getAttribute(e.CLASS)||"is-active";t.isToggleActive=!t.isToggleActive,t.hasAttribute(e.TARGET_ONLY)||t.classList.toggle(n),t.hasAttribute(e.EXPANDED)&&t.setAttribute(e.EXPANDED,t.isToggleActive),t.hasAttribute(e.SELECTED)&&t.setAttribute(e.SELECTED,t.isToggleActive);for(var i=r(t),o=0;o<i.length;o++)i[o].classList.toggle(n),E(i[o],t);A(t)},s=function(t){t.isToggleActive=!0;var n=t.getAttribute(e.CLASS)||"is-active";t.hasAttribute(e.TARGET_ONLY)||t.classList.contains(n)||t.classList.add(n),t.hasAttribute(e.EXPANDED)&&t.getAttribute(e.EXPANDED)&&t.setAttribute(e.EXPANDED,!0),t.hasAttribute(e.SELECTED)&&!t.getAttribute(e.SELECTED)&&t.setAttribute(e.SELECTED,!0);for(var i=r(t),o=0;o<i.length;o++)i[o].classList.contains(n)||i[o].classList.add(n),E(i[o],t);A(t)},l=function(){[].concat(n(document.querySelectorAll("["+e.CLASS+"]["+e.IS_ACTIVE+"]"))).forEach(function(t){if(t.hasAttribute(e.GROUP)){var r=t.getAttribute(e.GROUP);i(r).length>0?console.warn("Toggle group '"+r+"' must not have more than one trigger with '"+e.IS_ACTIVE+"'"):s(t)}else s(t)}),[].concat(n(document.querySelectorAll("["+e.CLASS+"]"))).forEach(function(t){t.addEventListener(t.getAttribute(e.EVENT)||"click",function(r){r.preventDefault(),t.hasAttribute(e.GROUP)?a(t):u(t)},!1)});var t=[].concat(n(document.querySelectorAll("["+e.CLASS+"]["+e.ESCAPE+"]")));t.length>0&&document.addEventListener("keyup",function(r){("key"in(r=r||window.event)?"Escape"===r.key||"Esc"===r.key:27===r.keyCode)&&t.forEach(function(t){t.isToggleActive&&(t.hasAttribute(e.GROUP)?console.warn("You can't use '"+e.ESCAPE+"' on a grouped trigger"):u(t))})},!1)};document.addEventListener("DOMContentLoaded",function t(){l(),document.removeEventListener("DOMContentLoaded",t)}),window.initEasyToggleState=l}();
