!function(){"use strict";var t=function(t){return"data-toggle-"+t},e="aria-checked",i=t("class"),r=t("escape"),n=t("event"),o="aria-expanded",a=t("group"),u=t("is-active"),c=t("outside"),s="aria-selected",g=t("target"),l=t("target-all"),A=t("target-only"),v=t("target-parent"),f=t("target-self"),b=t("state"),d=t("trigger-off"),h=function(t){var e=t?"["+t+"]":"";return[].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(document.querySelectorAll(("["+i+"]"+e).trim())))},E=function(t){return h(a+'="'+t+'"').filter(function(t){return t.isToggleActive})},m=function(t){return t.hasAttribute(g)||t.hasAttribute(l)?document.querySelectorAll(t.getAttribute(g)||t.getAttribute(l)):t.hasAttribute(v)?t.parentElement.querySelectorAll(t.getAttribute(v)):t.hasAttribute(f)?t.querySelectorAll(t.getAttribute(f)):[]},L=function t(e){var i=e.target;i.closest("["+b+'="true"]')||(h(c).forEach(function(t){t!=i&&t.isToggleActive&&(t.hasAttribute(a)?S:p)(t)}),i.hasAttribute(c)&&i.isToggleActive&&document.addEventListener(i.getAttribute(n)||"click",t,!1))},T=function(t){p(t.target.targetElement)},y=function(t){t.hasAttribute(e)&&t.setAttribute(e,t.isToggleActive),t.hasAttribute(o)&&t.setAttribute(o,t.isToggleActive),t.hasAttribute(s)&&t.setAttribute(s,t.isToggleActive)},k=function(t,e){t.isToggleActive=!t.isToggleActive,y(t),e.hasAttribute(c)&&t.setAttribute(b,e.isToggleActive);var i=t.querySelectorAll("["+d+"]");i.length>0&&(e.isToggleActive?i.forEach(function(t){t.targetElement=e,t.addEventListener("click",T,!1)}):i.forEach(function(t){t.removeEventListener("click",T,!1)}))},p=function(t){var e=t.getAttribute(i)||"is-active";t.isToggleActive=!t.isToggleActive,y(t),t.hasAttribute(A)||t.classList.toggle(e);for(var r=m(t),n=0;n<r.length;n++)r[n].classList.toggle(e),k(r[n],t);w(t)},w=function(t){t.hasAttribute(c)&&(t.hasAttribute(a)?console.warn("You can't use '"+c+"' on a grouped trigger"):t.isToggleActive?document.addEventListener(t.getAttribute(n)||"click",L,!1):document.removeEventListener(t.getAttribute(n)||"click",L,!1))},S=function(t){var e=E(t.getAttribute(a));e.length>0?-1===e.indexOf(t)&&(e.forEach(function(t){p(t)}),p(t)):p(t)},q=function(t){t.isToggleActive=!0;var r=t.getAttribute(i)||"is-active";t.hasAttribute(A)||t.classList.contains(r)||t.classList.add(r),t.hasAttribute(e)&&t.getAttribute(e)&&t.setAttribute(e,!0),t.hasAttribute(o)&&t.getAttribute(o)&&t.setAttribute(o,!0),t.hasAttribute(s)&&!t.getAttribute(s)&&t.setAttribute(s,!0);for(var n=m(t),a=0;a<n.length;a++)n[a].classList.contains(r)||n[a].classList.add(r),k(n[a],t);w(t)},C=function(){h(u).forEach(function(t){if(t.hasAttribute(a)){var e=t.getAttribute(a);E(e).length>0?console.warn("Toggle group '"+e+"' must not have more than one trigger with '"+u+"'"):q(t)}else q(t)}),h().forEach(function(t){t.addEventListener(t.getAttribute(n)||"click",function(e){e.preventDefault(),(t.hasAttribute(a)?S:p)(t)},!1)});var t=h(r);t.length>0&&document.addEventListener("keyup",function(e){("key"in(e=e||window.event)?"Escape"===e.key||"Esc"===e.key:27===e.keyCode)&&t.forEach(function(t){t.isToggleActive&&(t.hasAttribute(a)?console.warn("You can't use '"+r+"' on a grouped trigger"):p(t))})},!1)};document.addEventListener("DOMContentLoaded",function t(){C(),document.removeEventListener("DOMContentLoaded",t)}),window.initEasyToggleState=C}();
