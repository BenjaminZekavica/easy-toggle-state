!function(){"use strict";var t=function(t){return"data-toggle-"+t},e=t("class"),r=t("escape"),i=t("event"),n="aria-expanded",o=t("group"),a=t("is-active"),u=t("outside"),c="aria-selected",s=t("target"),g=t("target-all"),l=t("target-only"),A=t("target-parent"),f=t("target-self"),v=t("state"),d=t("trigger-off"),b=function(t){var r=t?"["+t+"]":"";return[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(document.querySelectorAll(("["+e+"]"+r).trim())))},h=function(t){return b(o+'="'+t+'"').filter(function(t){return t.isToggleActive})},E=function(t){return t.hasAttribute(s)||t.hasAttribute(g)?document.querySelectorAll(t.getAttribute(s)||t.getAttribute(g)):t.hasAttribute(A)?t.parentElement.querySelectorAll(t.getAttribute(A)):t.hasAttribute(f)?t.querySelectorAll(t.getAttribute(f)):[]},m=function t(e){var r=e.target;r.closest("["+v+'="true"]')||(b(u).forEach(function(t){t!=r&&t.isToggleActive&&(t.hasAttribute(o)?p:T)(t)}),r.hasAttribute(u)&&r.isToggleActive&&document.addEventListener(r.getAttribute(i)||"click",t,!1))},L=function(t){T(t.target.targetElement)},y=function(t,e){e.hasAttribute(u)&&t.setAttribute(v,e.isToggleActive);var r=t.querySelectorAll("["+d+"]");r.length>0&&(e.isToggleActive?r.forEach(function(t){t.targetElement=e,t.addEventListener("click",L,!1)}):r.forEach(function(t){t.removeEventListener("click",L,!1)}))},T=function(t){var r=t.getAttribute(e)||"is-active";t.isToggleActive=!t.isToggleActive,t.hasAttribute(l)||t.classList.toggle(r),t.hasAttribute(n)&&t.setAttribute(n,t.isToggleActive),t.hasAttribute(c)&&t.setAttribute(c,t.isToggleActive);for(var i=E(t),o=0;o<i.length;o++)i[o].classList.toggle(r),y(i[o],t);k(t)},k=function(t){t.hasAttribute(u)&&(t.hasAttribute(o)?console.warn("You can't use '"+u+"' on a grouped trigger"):t.isToggleActive?document.addEventListener(t.getAttribute(i)||"click",m,!1):document.removeEventListener(t.getAttribute(i)||"click",m,!1))},p=function(t){var e=h(t.getAttribute(o));e.length>0?-1===e.indexOf(t)&&(e.forEach(function(t){T(t)}),T(t)):T(t)},w=function(t){t.isToggleActive=!0;var r=t.getAttribute(e)||"is-active";t.hasAttribute(l)||t.classList.contains(r)||t.classList.add(r),t.hasAttribute(n)&&t.getAttribute(n)&&t.setAttribute(n,!0),t.hasAttribute(c)&&!t.getAttribute(c)&&t.setAttribute(c,!0);for(var i=E(t),o=0;o<i.length;o++)i[o].classList.contains(r)||i[o].classList.add(r),y(i[o],t);k(t)},S=function(){b(a).forEach(function(t){if(t.hasAttribute(o)){var e=t.getAttribute(o);h(e).length>0?console.warn("Toggle group '"+e+"' must not have more than one trigger with '"+a+"'"):w(t)}else w(t)}),b().forEach(function(t){t.addEventListener(t.getAttribute(i)||"click",function(e){e.preventDefault(),(t.hasAttribute(o)?p:T)(t)},!1)});var t=b(r);t.length>0&&document.addEventListener("keyup",function(e){("key"in(e=e||window.event)?"Escape"===e.key||"Esc"===e.key:27===e.keyCode)&&t.forEach(function(t){t.isToggleActive&&(t.hasAttribute(o)?console.warn("You can't use '"+r+"' on a grouped trigger"):T(t))})},!1)};document.addEventListener("DOMContentLoaded",function t(){S(),document.removeEventListener("DOMContentLoaded",t)}),window.initEasyToggleState=S}();
