!function(){"use strict";var t=function(t){return"data-toggle-"+t},e={CLASS:t("class"),TARGET_ALL:t("target-all"),TARGET_PARENT:t("target-parent"),TARGET_SELF:t("target-self"),IS_ACTIVE:t("is-active"),GROUP:t("group"),EVENT:t("event"),OUTSIDE:t("outside"),TARGET_ONLY:t("target-only"),ESCAPE:t("escape"),TRIGGER_OFF:t("trigger-off"),TARGET_STATE:t("state"),EXPANDED:"aria-expanded",SELECTED:"aria-selected"},r=function(t){var r=t?"["+t+"]":"";return[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(document.querySelectorAll(("["+e.CLASS+"]"+r).trim())))},i=function(t){var i=[];return r(e.GROUP+'="'+t+'"').forEach(function(t){t.isToggleActive&&i.push(t)}),i},n=function(t){return t.hasAttribute(e.TARGET_ALL)?document.querySelectorAll(t.getAttribute(e.TARGET_ALL)):t.hasAttribute(e.TARGET_PARENT)?t.parentElement.querySelectorAll(t.getAttribute(e.TARGET_PARENT)):t.hasAttribute(e.TARGET_SELF)?t.querySelectorAll(t.getAttribute(e.TARGET_SELF)):[]},E=function t(i){var n=i.target;n.closest("["+e.TARGET_STATE+'="true"]')||(r(e.OUTSIDE).forEach(function(t){t!=n&&t.isToggleActive&&(t.hasAttribute(e.GROUP)?u:A)(t)}),n.hasAttribute(e.OUTSIDE)&&n.isToggleActive&&document.addEventListener(n.getAttribute(e.EVENT)||"click",t,!1))},o=function(t){A(t.target.targetElement)},a=function(t,r){r.hasAttribute(e.OUTSIDE)&&t.setAttribute(e.TARGET_STATE,r.isToggleActive);var i=t.querySelectorAll("["+e.TRIGGER_OFF+"]");i.length>0&&(r.isToggleActive?i.forEach(function(t){t.targetElement=r,t.addEventListener("click",o,!1)}):i.forEach(function(t){t.removeEventListener("click",o,!1)}))},A=function(t){var r=t.getAttribute(e.CLASS)||"is-active";t.isToggleActive=!t.isToggleActive,t.hasAttribute(e.TARGET_ONLY)||t.classList.toggle(r),t.hasAttribute(e.EXPANDED)&&t.setAttribute(e.EXPANDED,t.isToggleActive),t.hasAttribute(e.SELECTED)&&t.setAttribute(e.SELECTED,t.isToggleActive);for(var i=n(t),E=0;E<i.length;E++)i[E].classList.toggle(r),a(i[E],t);c(t)},c=function(t){t.hasAttribute(e.OUTSIDE)&&(t.hasAttribute(e.GROUP)?console.warn("You can't use '"+e.OUTSIDE+"' on a grouped trigger"):t.isToggleActive?document.addEventListener(t.getAttribute(e.EVENT)||"click",E,!1):document.removeEventListener(t.getAttribute(e.EVENT)||"click",E,!1))},u=function(t){var r=i(t.getAttribute(e.GROUP));r.length>0?-1===r.indexOf(t)&&(r.forEach(function(t){A(t)}),A(t)):A(t)},s=function(t){t.isToggleActive=!0;var r=t.getAttribute(e.CLASS)||"is-active";t.hasAttribute(e.TARGET_ONLY)||t.classList.contains(r)||t.classList.add(r),t.hasAttribute(e.EXPANDED)&&t.getAttribute(e.EXPANDED)&&t.setAttribute(e.EXPANDED,!0),t.hasAttribute(e.SELECTED)&&!t.getAttribute(e.SELECTED)&&t.setAttribute(e.SELECTED,!0);for(var i=n(t),E=0;E<i.length;E++)i[E].classList.contains(r)||i[E].classList.add(r),a(i[E],t);c(t)},g=function(){r(e.IS_ACTIVE).forEach(function(t){if(t.hasAttribute(e.GROUP)){var r=t.getAttribute(e.GROUP);i(r).length>0?console.warn("Toggle group '"+r+"' must not have more than one trigger with '"+e.IS_ACTIVE+"'"):s(t)}else s(t)}),r().forEach(function(t){t.addEventListener(t.getAttribute(e.EVENT)||"click",function(r){r.preventDefault(),(t.hasAttribute(e.GROUP)?u:A)(t)},!1)});var t=r(e.ESCAPE);t.length>0&&document.addEventListener("keyup",function(r){("key"in(r=r||window.event)?"Escape"===r.key||"Esc"===r.key:27===r.keyCode)&&t.forEach(function(t){t.isToggleActive&&(t.hasAttribute(e.GROUP)?console.warn("You can't use '"+e.ESCAPE+"' on a grouped trigger"):A(t))})},!1)};document.addEventListener("DOMContentLoaded",function t(){g(),document.removeEventListener("DOMContentLoaded",t)}),window.initEasyToggleState=g}();
