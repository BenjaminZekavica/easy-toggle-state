"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}!function(t){var e=function(t){return"data-toggle-"+t},r={CLASS:e("class"),TARGET_ALL:e("target-all"),TARGET_PARENT:e("target-parent"),TARGET_SELF:e("target-self"),IS_ACTIVE:e("is-active"),GROUP:e("group"),EVENT:e("event"),OUTSIDE:e("outside"),TARGET_ONLY:e("target-only"),ESCAPE:e("escape"),TRIGGER_OFF:e("trigger-off"),TARGET_STATE:e("state"),EXPANDED:"aria-expanded",SELECTED:"aria-selected"},i=function(e){return e.hasAttribute(r.TARGET_ALL)?t.querySelectorAll(e.getAttribute(r.TARGET_ALL)):e.hasAttribute(r.TARGET_PARENT)?e.parentElement.querySelectorAll(e.getAttribute(r.TARGET_PARENT)):e.hasAttribute(r.TARGET_SELF)?e.querySelectorAll(e.getAttribute(r.TARGET_SELF)):[]},n=function(e){var i=[];return[].concat(_toConsumableArray(t.querySelectorAll("["+r.CLASS+"]["+r.GROUP+'="'+e+'"]'))).forEach(function(t){t.isToggleActive&&i.push(t)}),i},o=function e(i){var n=i.target;n.closest("["+r.TARGET_STATE+'="true"]')||([].concat(_toConsumableArray(t.querySelectorAll("["+r.CLASS+"]["+r.OUTSIDE+"]"))).forEach(function(t){t!=n&&t.isToggleActive&&(t.hasAttribute(r.GROUP)?c(t):u(t))}),n.hasAttribute(r.OUTSIDE)&&n.isToggleActive&&t.addEventListener(n.getAttribute(r.EVENT)||"click",e,!1))},A=function(t){u(t.target.targetElement)},a=function(e){e.hasAttribute(r.OUTSIDE)&&(e.hasAttribute(r.GROUP)?console.warn("You can't use '"+r.OUTSIDE+"' on a grouped trigger"):e.isToggleActive?t.addEventListener(e.getAttribute(r.EVENT)||"click",o,!1):t.removeEventListener(e.getAttribute(r.EVENT)||"click",o,!1))},E=function(t,e){e.hasAttribute(r.OUTSIDE)&&t.setAttribute(r.TARGET_STATE,e.isToggleActive);var i=t.querySelectorAll("["+r.TRIGGER_OFF+"]");i.length>0&&(e.isToggleActive?i.forEach(function(t){t.targetElement=e,t.addEventListener("click",A,!1)}):i.forEach(function(t){t.removeEventListener("click",A,!1)}))},c=function(t){var e=n(t.getAttribute(r.GROUP));e.length>0?-1===e.indexOf(t)&&(e.forEach(function(t){u(t)}),u(t)):u(t)},u=function(t){var e=t.getAttribute(r.CLASS);t.isToggleActive=!t.isToggleActive,t.hasAttribute(r.TARGET_ONLY)||t.classList.toggle(e),t.hasAttribute(r.EXPANDED)&&t.setAttribute(r.EXPANDED,t.isToggleActive),t.hasAttribute(r.SELECTED)&&t.setAttribute(r.SELECTED,t.isToggleActive);for(var n=i(t),o=0;o<n.length;o++)n[o].classList.toggle(e),E(n[o],t);a(t)},s=function(t){t.isToggleActive=!0;var e=t.getAttribute(r.CLASS);t.hasAttribute(r.TARGET_ONLY)||t.classList.contains(e)||t.classList.add(e),t.hasAttribute(r.EXPANDED)&&t.getAttribute(r.EXPANDED)&&t.setAttribute(r.EXPANDED,!0),t.hasAttribute(r.SELECTED)&&!t.getAttribute(r.SELECTED)&&t.setAttribute(r.SELECTED,!0);for(var n=i(t),o=0;o<n.length;o++)n[o].classList.contains(t.getAttribute(r.CLASS))||n[o].classList.add(e),E(n[o],t);a(t)},l=function(){[].concat(_toConsumableArray(t.querySelectorAll("["+r.CLASS+"]["+r.IS_ACTIVE+"]"))).forEach(function(t){if(t.hasAttribute(r.GROUP)){var e=t.getAttribute(r.GROUP);n(e).length>0?console.warn("Toggle group '"+e+"' must not have more than one trigger with '"+r.IS_ACTIVE+"'"):s(t)}else s(t)}),[].concat(_toConsumableArray(t.querySelectorAll("["+r.CLASS+"]"))).forEach(function(t){t.addEventListener(t.getAttribute(r.EVENT)||"click",function(e){e.preventDefault(),t.hasAttribute(r.GROUP)?c(t):u(t)},!1)});var e=[].concat(_toConsumableArray(t.querySelectorAll("["+r.CLASS+"]["+r.ESCAPE+"]")));e.length>0&&t.addEventListener("keyup",function(t){("key"in(t=t||window.event)?"Escape"===t.key||"Esc"===t.key:27===t.keyCode)&&e.forEach(function(t){t.isToggleActive&&(t.hasAttribute(r.GROUP)?console.warn("You can't use '"+r.ESCAPE+"' on a grouped trigger"):u(t))})},!1)};t.addEventListener("DOMContentLoaded",function e(){l(),t.removeEventListener("DOMContentLoaded",e)}),window.initEasyToggleState=l}(document);