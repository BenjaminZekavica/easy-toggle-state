!function(){"use strict";var t=function(t){return"data-toggle-"+t},e="aria-checked",r=t("class"),i=t("escape"),n=t("event"),o="aria-expanded",a=t("group"),u="aria-hidden",s=t("is-active"),c=t("outside"),g="aria-selected",l=t("target"),A=t("target-all"),f=t("target-next"),h=t("target-only"),v=t("target-parent"),b=t("target-previous"),d=t("target-self"),E=t("state"),m=t("trigger-off"),T=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)},L=function(t){var e=t?"["+t+"]":"";return[].concat(T(document.querySelectorAll(("["+r+"]"+e).trim())))},y=function(t){return L(a+'="'+t+'"').filter(function(t){return t.isToggleActive})},p=function(t,e){0===e.length&&console.warn("There's no match for the selector '"+t+"' for this trigger");var r=t.match(/#\w+/gi);return r&&r.forEach(function(t){var r=[].concat(T(e)).filter(function(e){return e.id===t.slice(1)});r.length>1&&console.warn("There's "+r.length+" matches for the selector '"+t+"' for this trigger")}),e},k=function(t){if(t.hasAttribute(l)||t.hasAttribute(A)){var e=t.getAttribute(l)||t.getAttribute(A);return p(e,document.querySelectorAll(e))}if(t.hasAttribute(v)){var r=t.getAttribute(v);return p(r,t.parentElement.querySelectorAll(r))}if(t.hasAttribute(d)){var i=t.getAttribute(d);return p(i,t.querySelectorAll(i))}return t.hasAttribute(b)?p("previous",[t.previousElementSibling].filter(Boolean)):t.hasAttribute(f)?p("next",[t.nextElementSibling].filter(Boolean)):[]},w=function t(e){var r=e.target;r.closest("["+E+'="true"]')||(L(c).forEach(function(t){t!=r&&t.isToggleActive&&(t.hasAttribute(a)?O:C)(t)}),r.hasAttribute(c)&&r.isToggleActive&&document.addEventListener(r.getAttribute(n)||"click",t,!1))},S=function(t){C(t.target.targetElement)},q=function(t){t.hasAttribute(e)&&t.setAttribute(e,t.isToggleActive),t.hasAttribute(o)&&t.setAttribute(o,t.isToggleActive),t.hasAttribute(u)&&t.setAttribute(u,!t.isToggleActive),t.hasAttribute(g)&&t.setAttribute(g,t.isToggleActive)},x=function(t,e){t.isToggleActive=!t.isToggleActive,q(t),e.hasAttribute(c)&&t.setAttribute(E,e.isToggleActive);var r=t.querySelectorAll("["+m+"]");r.length>0&&(e.isToggleActive?r.forEach(function(t){t.targetElement=e,t.addEventListener("click",S,!1)}):r.forEach(function(t){t.removeEventListener("click",S,!1)}))},C=function(t){var e=t.getAttribute(r)||"is-active";t.isToggleActive=!t.isToggleActive,q(t),t.hasAttribute(h)||t.classList.toggle(e);for(var i=k(t),n=0;n<i.length;n++)i[n].classList.toggle(e),x(i[n],t);D(t)},D=function(t){t.hasAttribute(c)&&(t.hasAttribute(a)?console.warn("You can't use '"+c+"' on a grouped trigger"):t.isToggleActive?document.addEventListener(t.getAttribute(n)||"click",w,!1):document.removeEventListener(t.getAttribute(n)||"click",w,!1))},O=function(t){var e=y(t.getAttribute(a));e.length>0?-1===e.indexOf(t)&&(e.forEach(function(t){C(t)}),C(t)):C(t)},B=function(t){t.isToggleActive=!0;var i=t.getAttribute(r)||"is-active";t.hasAttribute(h)||t.classList.contains(i)||t.classList.add(i),t.hasAttribute(e)&&t.getAttribute(e)&&t.setAttribute(e,!0),t.hasAttribute(o)&&t.getAttribute(o)&&t.setAttribute(o,!0),t.hasAttribute(u)&&t.getAttribute(u)&&t.setAttribute(u,!1),t.hasAttribute(g)&&!t.getAttribute(g)&&t.setAttribute(g,!0);for(var n=k(t),a=0;a<n.length;a++)n[a].classList.contains(i)||n[a].classList.add(i),x(n[a],t);D(t)},M=function(){L(s).forEach(function(t){if(t.hasAttribute(a)){var e=t.getAttribute(a);y(e).length>0?console.warn("Toggle group '"+e+"' must not have more than one trigger with '"+s+"'"):B(t)}else B(t)}),L().forEach(function(t){t.addEventListener(t.getAttribute(n)||"click",function(e){e.preventDefault(),(t.hasAttribute(a)?O:C)(t)},!1)});var t=L(i);t.length>0&&document.addEventListener("keyup",function(e){("key"in(e=e||window.event)?"Escape"===e.key||"Esc"===e.key:27===e.keyCode)&&t.forEach(function(t){t.isToggleActive&&(t.hasAttribute(a)?console.warn("You can't use '"+i+"' on a grouped trigger"):C(t))})},!1)};document.addEventListener("DOMContentLoaded",function t(){M(),document.removeEventListener("DOMContentLoaded",t)}),window.initEasyToggleState=M}();
