!function(){"use strict";var t=function(t){return"data-toggle-"+t},e=t("class"),r=t("escape"),i=t("event"),n="aria-expanded",o=t("group"),a=t("is-active"),c=t("outside"),u="aria-selected",s=t("target-all"),g=t("target-only"),l=t("target-parent"),A=t("target-self"),f=t("state"),v=t("trigger-off"),d=function(t){var r=t?"["+t+"]":"";return[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(document.querySelectorAll(("["+e+"]"+r).trim())))},b=function(t){return d(o+'="'+t+'"').filter(function(t){return t.isToggleActive})},h=function(t){return t.hasAttribute(s)?document.querySelectorAll(t.getAttribute(s)):t.hasAttribute(l)?t.parentElement.querySelectorAll(t.getAttribute(l)):t.hasAttribute(A)?t.querySelectorAll(t.getAttribute(A)):[]},E=function t(e){var r=e.target;r.closest("["+f+'="true"]')||(d(c).forEach(function(t){t!=r&&t.isToggleActive&&(t.hasAttribute(o)?k:y)(t)}),r.hasAttribute(c)&&r.isToggleActive&&document.addEventListener(r.getAttribute(i)||"click",t,!1))},m=function(t){y(t.target.targetElement)},L=function(t,e){e.hasAttribute(c)&&t.setAttribute(f,e.isToggleActive);var r=t.querySelectorAll("["+v+"]");r.length>0&&(e.isToggleActive?r.forEach(function(t){t.targetElement=e,t.addEventListener("click",m,!1)}):r.forEach(function(t){t.removeEventListener("click",m,!1)}))},y=function(t){var r=t.getAttribute(e)||"is-active";t.isToggleActive=!t.isToggleActive,t.hasAttribute(g)||t.classList.toggle(r),t.hasAttribute(n)&&t.setAttribute(n,t.isToggleActive),t.hasAttribute(u)&&t.setAttribute(u,t.isToggleActive);for(var i=h(t),o=0;o<i.length;o++)i[o].classList.toggle(r),L(i[o],t);T(t)},T=function(t){t.hasAttribute(c)&&(t.hasAttribute(o)?console.warn("You can't use '"+c+"' on a grouped trigger"):t.isToggleActive?document.addEventListener(t.getAttribute(i)||"click",E,!1):document.removeEventListener(t.getAttribute(i)||"click",E,!1))},k=function(t){var e=b(t.getAttribute(o));e.length>0?-1===e.indexOf(t)&&(e.forEach(function(t){y(t)}),y(t)):y(t)},p=function(t){t.isToggleActive=!0;var r=t.getAttribute(e)||"is-active";t.hasAttribute(g)||t.classList.contains(r)||t.classList.add(r),t.hasAttribute(n)&&t.getAttribute(n)&&t.setAttribute(n,!0),t.hasAttribute(u)&&!t.getAttribute(u)&&t.setAttribute(u,!0);for(var i=h(t),o=0;o<i.length;o++)i[o].classList.contains(r)||i[o].classList.add(r),L(i[o],t);T(t)},w=function(){d(a).forEach(function(t){if(t.hasAttribute(o)){var e=t.getAttribute(o);b(e).length>0?console.warn("Toggle group '"+e+"' must not have more than one trigger with '"+a+"'"):p(t)}else p(t)}),d().forEach(function(t){t.addEventListener(t.getAttribute(i)||"click",function(e){e.preventDefault(),(t.hasAttribute(o)?k:y)(t)},!1)});var t=d(r);t.length>0&&document.addEventListener("keyup",function(e){("key"in(e=e||window.event)?"Escape"===e.key||"Esc"===e.key:27===e.keyCode)&&t.forEach(function(t){t.isToggleActive&&(t.hasAttribute(o)?console.warn("You can't use '"+r+"' on a grouped trigger"):y(t))})},!1)};document.addEventListener("DOMContentLoaded",function t(){w(),document.removeEventListener("DOMContentLoaded",t)}),window.initEasyToggleState=w}();
