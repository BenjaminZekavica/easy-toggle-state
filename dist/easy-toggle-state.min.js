"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}!function(t){var e="data-toggle-class",a="data-toggle-group",r="data-toggle-event",i="data-toggle-outside",o=function(e){return e.hasAttribute("data-toggle-target-all")?t.querySelectorAll(e.getAttribute("data-toggle-target-all")):e.hasAttribute("data-toggle-target-parent")?e.parentElement.querySelectorAll(e.getAttribute("data-toggle-target-parent")):e.hasAttribute("data-toggle-target-self")?e.querySelectorAll(e.getAttribute("data-toggle-target-self")):[]},n=function(r){var i=[];return[].concat(_toConsumableArray(t.querySelectorAll("["+e+"]["+a+'="'+r+'"]'))).forEach(function(t){t.isToggleActive&&i.push(t)}),i},g=function o(n){var g=n.target;g.closest('[data-toggle-state="true"]')||([].concat(_toConsumableArray(t.querySelectorAll("["+e+"]["+i+"]"))).forEach(function(t){t!=g&&t.isToggleActive&&(t.hasAttribute(a)?u(t):A(t))}),g.hasAttribute(i)&&g.isToggleActive&&t.addEventListener(g.getAttribute(r)||"click",o,!1))},l=function(t){A(t.target.targetElement)},c=function(e){e.hasAttribute(i)&&(e.hasAttribute(a)?console.error("You can't use '"+i+"' on a grouped trigger"):e.isToggleActive?t.addEventListener(e.getAttribute(r)||"click",g,!1):t.removeEventListener(e.getAttribute(r)||"click",g,!1))},s=function(t,e){e.hasAttribute(i)&&t.setAttribute("data-toggle-state",e.isToggleActive);var a=t.querySelectorAll("[data-toggle-trigger-off]");a.length>0&&(e.isToggleActive?a.forEach(function(t){t.targetElement=e,t.addEventListener("click",l,!1)}):a.forEach(function(t){t.removeEventListener("click",l,!1)}))},u=function(t){var e=n(t.getAttribute(a));e.length>0?-1===e.indexOf(t)&&(e.forEach(function(t){A(t)}),A(t)):A(t)},A=function(t){var a=t.getAttribute(e);t.isToggleActive=!t.isToggleActive,t.hasAttribute("data-toggle-target-only")||t.classList.toggle(a),t.hasAttribute("aria-expanded")&&t.setAttribute("aria-expanded",t.isToggleActive),t.hasAttribute("aria-selected")&&t.setAttribute("aria-selected",t.isToggleActive);for(var r=o(t),i=0;i<r.length;i++)r[i].classList.toggle(a),s(r[i],t);c(t)},d=function(t){t.isToggleActive=!0;var a=t.getAttribute(e);t.hasAttribute("data-toggle-target-only")||t.classList.contains(a)||t.classList.add(a),t.hasAttribute("aria-expanded")&&t.getAttribute("aria-expanded")&&t.setAttribute("aria-expanded",!0),t.hasAttribute("aria-selected")&&!t.getAttribute("aria-selected")&&t.setAttribute("aria-selected",!0);for(var r=o(t),i=0;i<r.length;i++)r[i].classList.contains(t.getAttribute(e))||r[i].classList.add(a),s(r[i],t);c(t)},f=function(){[].concat(_toConsumableArray(t.querySelectorAll("["+e+"][data-toggle-is-active]"))).forEach(function(t){if(t.hasAttribute(a)){var e=t.getAttribute(a);n(e).length>0?console.error("Toggle group '"+e+"' must not have more than one trigger with 'data-toggle-is-active'"):d(t)}else d(t)}),[].concat(_toConsumableArray(t.querySelectorAll("["+e+"]"))).forEach(function(t){t.addEventListener(t.getAttribute(r)||"click",function(e){e.preventDefault(),t.hasAttribute(a)?u(t):A(t)},!1)});var i=[].concat(_toConsumableArray(t.querySelectorAll("["+e+"][data-toggle-escape]")));i.length>0&&t.addEventListener("keyup",function(t){("key"in(t=t||window.event)?"Escape"===t.key||"Esc"===t.key:27===t.keyCode)&&i.forEach(function(t){t.isToggleActive&&(t.hasAttribute(a)?console.error("You can't use 'data-toggle-escape' on a grouped trigger"):A(t))})},!1)};t.addEventListener("DOMContentLoaded",function e(){f(),t.removeEventListener("DOMContentLoaded",e)}),window.initEasyToggleState=f}(document);
//# sourceMappingURL=easy-toggle-state.min.js.map
