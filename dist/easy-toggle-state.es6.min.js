!function(){"use strict";const t=t=>`data-toggle-${t}`,e="aria-checked",i=t("class"),r=t("escape"),s=t("event"),l="aria-expanded",a=t("group"),o="aria-hidden",g=t("is-active"),n=t("outside"),c="aria-selected",u=t("target"),A=t("target-all"),h=t("target-next"),b=t("target-only"),d=t("target-parent"),v=t("target-previous"),f=t("target-self"),E=t("state"),m=t("trigger-off"),T=t=>{const e=t?`[${t}]`:"";return[...document.querySelectorAll(`[${i}]${e}`.trim())]},L=t=>T(`${a}="${t}"`).filter(t=>t.isToggleActive),p=(t,e)=>{0===e.length&&console.warn(`There's no match for the selector '${t}' for this trigger`);const i=t.match(/#\w+/gi);return i&&i.forEach(t=>{let i=[...e].filter(e=>e.id===t.slice(1));i.length>1&&console.warn(`There's ${i.length} matches for the selector '${t}' for this trigger`)}),e},$=t=>{if(t.hasAttribute(u)||t.hasAttribute(A)){let e=t.getAttribute(u)||t.getAttribute(A);return p(e,document.querySelectorAll(e))}if(t.hasAttribute(d)){let e=t.getAttribute(d);return p(e,t.parentElement.querySelectorAll(e))}if(t.hasAttribute(f)){let e=t.getAttribute(f);return p(e,t.querySelectorAll(e))}return t.hasAttribute(v)?p("previous",[t.previousElementSibling].filter(Boolean)):t.hasAttribute(h)?p("next",[t.nextElementSibling].filter(Boolean)):[]},k=t=>{let e=t.target;e.closest("["+E+'="true"]')||(T(n).forEach(t=>{t!=e&&t.isToggleActive&&(t.hasAttribute(a)?C:q)(t)}),e.hasAttribute(n)&&e.isToggleActive&&document.addEventListener(e.getAttribute(s)||"click",k,!1))},y=t=>{q(t.target.targetElement)},w=t=>{t.hasAttribute(e)&&t.setAttribute(e,t.isToggleActive),t.hasAttribute(l)&&t.setAttribute(l,t.isToggleActive),t.hasAttribute(o)&&t.setAttribute(o,!t.isToggleActive),t.hasAttribute(c)&&t.setAttribute(c,t.isToggleActive)},S=(t,e)=>{t.isToggleActive=!t.isToggleActive,w(t),e.hasAttribute(n)&&t.setAttribute(E,e.isToggleActive);let i=t.querySelectorAll("["+m+"]");i.length>0&&(e.isToggleActive?i.forEach(t=>{t.targetElement=e,t.addEventListener("click",y,!1)}):i.forEach(t=>{t.removeEventListener("click",y,!1)}))},q=t=>{let e=t.getAttribute(i)||"is-active";t.isToggleActive=!t.isToggleActive,w(t),t.hasAttribute(b)||t.classList.toggle(e);let r=$(t);for(let i=0;i<r.length;i++)r[i].classList.toggle(e),S(r[i],t);x(t)},x=t=>{t.hasAttribute(n)&&(t.hasAttribute(a)?console.warn(`You can't use '${n}' on a grouped trigger`):t.isToggleActive?document.addEventListener(t.getAttribute(s)||"click",k,!1):document.removeEventListener(t.getAttribute(s)||"click",k,!1))},C=t=>{let e=L(t.getAttribute(a));e.length>0?-1===e.indexOf(t)&&(e.forEach(t=>{q(t)}),q(t)):q(t)},D=t=>{t.isToggleActive=!0;let r=t.getAttribute(i)||"is-active";t.hasAttribute(b)||t.classList.contains(r)||t.classList.add(r),t.hasAttribute(e)&&t.getAttribute(e)&&t.setAttribute(e,!0),t.hasAttribute(l)&&t.getAttribute(l)&&t.setAttribute(l,!0),t.hasAttribute(o)&&t.getAttribute(o)&&t.setAttribute(o,!1),t.hasAttribute(c)&&!t.getAttribute(c)&&t.setAttribute(c,!0);let s=$(t);for(let e=0;e<s.length;e++)s[e].classList.contains(r)||s[e].classList.add(r),S(s[e],t);x(t)},O=()=>{T(g).forEach(t=>{if(t.hasAttribute(a)){let e=t.getAttribute(a);L(e).length>0?console.warn(`Toggle group '${e}' must not have more than one trigger with '${g}'`):D(t)}else D(t)}),T().forEach(t=>{t.addEventListener(t.getAttribute(s)||"click",e=>{e.preventDefault(),(t.hasAttribute(a)?C:q)(t)},!1)});let t=T(r);t.length>0&&document.addEventListener("keyup",e=>{let i=!1;(i="key"in(e=e||window.event)?"Escape"===e.key||"Esc"===e.key:27===e.keyCode)&&t.forEach(t=>{t.isToggleActive&&(t.hasAttribute(a)?console.warn(`You can't use '${r}' on a grouped trigger`):q(t))})},!1)},B=()=>{O(),document.removeEventListener("DOMContentLoaded",B)};document.addEventListener("DOMContentLoaded",B),window.initEasyToggleState=O}();
