!function(){"use strict";const t=t=>`data-toggle-${t}`,e=t("class"),i=t("escape"),r=t("event"),s="aria-expanded",a=t("group"),l=t("is-active"),o=t("outside"),g="aria-selected",n=t("target-all"),c=t("target-only"),u=t("target-parent"),A=t("target-self"),d=t("state"),b=t("trigger-off"),h=t=>{const i=t?`[${t}]`:"";return[...document.querySelectorAll(`[${e}]${i}`.trim())]},v=t=>h(`${a}="${t}"`).filter(t=>t.isToggleActive),E=t=>t.hasAttribute(n)?document.querySelectorAll(t.getAttribute(n)):t.hasAttribute(u)?t.parentElement.querySelectorAll(t.getAttribute(u)):t.hasAttribute(A)?t.querySelectorAll(t.getAttribute(A)):[],f=t=>{let e=t.target;e.closest("["+d+'="true"]')||(h(o).forEach(t=>{t!=e&&t.isToggleActive&&(t.hasAttribute(a)?k:T)(t)}),e.hasAttribute(o)&&e.isToggleActive&&document.addEventListener(e.getAttribute(r)||"click",f,!1))},m=t=>{T(t.target.targetElement)},L=(t,e)=>{e.hasAttribute(o)&&t.setAttribute(d,e.isToggleActive);let i=t.querySelectorAll("["+b+"]");i.length>0&&(e.isToggleActive?i.forEach(t=>{t.targetElement=e,t.addEventListener("click",m,!1)}):i.forEach(t=>{t.removeEventListener("click",m,!1)}))},T=t=>{let i=t.getAttribute(e)||"is-active";t.isToggleActive=!t.isToggleActive,t.hasAttribute(c)||t.classList.toggle(i),t.hasAttribute(s)&&t.setAttribute(s,t.isToggleActive),t.hasAttribute(g)&&t.setAttribute(g,t.isToggleActive);let r=E(t);for(let e=0;e<r.length;e++)r[e].classList.toggle(i),L(r[e],t);y(t)},y=t=>{t.hasAttribute(o)&&(t.hasAttribute(a)?console.warn(`You can't use '${o}' on a grouped trigger`):t.isToggleActive?document.addEventListener(t.getAttribute(r)||"click",f,!1):document.removeEventListener(t.getAttribute(r)||"click",f,!1))},k=t=>{let e=v(t.getAttribute(a));e.length>0?-1===e.indexOf(t)&&(e.forEach(t=>{T(t)}),T(t)):T(t)},p=t=>{t.isToggleActive=!0;let i=t.getAttribute(e)||"is-active";t.hasAttribute(c)||t.classList.contains(i)||t.classList.add(i),t.hasAttribute(s)&&t.getAttribute(s)&&t.setAttribute(s,!0),t.hasAttribute(g)&&!t.getAttribute(g)&&t.setAttribute(g,!0);let r=E(t);for(let e=0;e<r.length;e++)r[e].classList.contains(i)||r[e].classList.add(i),L(r[e],t);y(t)},$=()=>{h(l).forEach(t=>{if(t.hasAttribute(a)){let e=t.getAttribute(a);v(e).length>0?console.warn(`Toggle group '${e}' must not have more than one trigger with '${l}'`):p(t)}else p(t)}),h().forEach(t=>{t.addEventListener(t.getAttribute(r)||"click",e=>{e.preventDefault(),(t.hasAttribute(a)?k:T)(t)},!1)});let t=h(i);t.length>0&&document.addEventListener("keyup",e=>{let r=!1;(r="key"in(e=e||window.event)?"Escape"===e.key||"Esc"===e.key:27===e.keyCode)&&t.forEach(t=>{t.isToggleActive&&(t.hasAttribute(a)?console.warn(`You can't use '${i}' on a grouped trigger`):T(t))})},!1)},w=()=>{$(),document.removeEventListener("DOMContentLoaded",w)};document.addEventListener("DOMContentLoaded",w),window.initEasyToggleState=$}();
