!function(){"use strict";const t=t=>`data-toggle-${t}`,e="aria-checked",r=t("class"),i=t("escape"),s=t("event"),l="aria-expanded",o=t("group"),a=t("is-active"),n=t("outside"),g="aria-selected",c=t("target"),u=t("target-all"),A=t("target-next"),h=t("target-only"),b=t("target-parent"),d=t("target-previous"),v=t("target-self"),f=t("state"),E=t("trigger-off"),m=t=>{const e=t?`[${t}]`:"";return[...document.querySelectorAll(`[${r}]${e}`.trim())]},T=t=>m(`${o}="${t}"`).filter(t=>t.isToggleActive),L=(t,e)=>{return 0===e.length&&console.warn(`There's no match for the selector '${t}' for this trigger`),e.length>1&&-1!=/^#|^\[id=/g.exec(t)&&console.warn(`There's more than one target for the selector '${t}' for this trigger`),e},p=t=>{if(t.hasAttribute(c)||t.hasAttribute(u)){let e=t.getAttribute(c)||t.getAttribute(u);return L(e,document.querySelectorAll(e))}if(t.hasAttribute(b)){let e=t.getAttribute(b);return L(e,t.parentElement.querySelectorAll(e))}if(t.hasAttribute(v)){let e=t.getAttribute(v);return L(e,t.querySelectorAll(e))}return t.hasAttribute(d)?L("previous",[t.previousElementSibling].filter(Boolean)):t.hasAttribute(A)?L("next",[t.nextElementSibling].filter(Boolean)):[]},k=t=>{let e=t.target;e.closest("["+f+'="true"]')||(m(n).forEach(t=>{t!=e&&t.isToggleActive&&(t.hasAttribute(o)?q:S)(t)}),e.hasAttribute(n)&&e.isToggleActive&&document.addEventListener(e.getAttribute(s)||"click",k,!1))},y=t=>{S(t.target.targetElement)},$=t=>{t.hasAttribute(e)&&t.setAttribute(e,t.isToggleActive),t.hasAttribute(l)&&t.setAttribute(l,t.isToggleActive),t.hasAttribute(g)&&t.setAttribute(g,t.isToggleActive)},w=(t,e)=>{t.isToggleActive=!t.isToggleActive,$(t),e.hasAttribute(n)&&t.setAttribute(f,e.isToggleActive);let r=t.querySelectorAll("["+E+"]");r.length>0&&(e.isToggleActive?r.forEach(t=>{t.targetElement=e,t.addEventListener("click",y,!1)}):r.forEach(t=>{t.removeEventListener("click",y,!1)}))},S=t=>{let e=t.getAttribute(r)||"is-active";t.isToggleActive=!t.isToggleActive,$(t),t.hasAttribute(h)||t.classList.toggle(e);let i=p(t);for(let r=0;r<i.length;r++)i[r].classList.toggle(e),w(i[r],t);x(t)},x=t=>{t.hasAttribute(n)&&(t.hasAttribute(o)?console.warn(`You can't use '${n}' on a grouped trigger`):t.isToggleActive?document.addEventListener(t.getAttribute(s)||"click",k,!1):document.removeEventListener(t.getAttribute(s)||"click",k,!1))},q=t=>{let e=T(t.getAttribute(o));e.length>0?-1===e.indexOf(t)&&(e.forEach(t=>{S(t)}),S(t)):S(t)},C=t=>{t.isToggleActive=!0;let i=t.getAttribute(r)||"is-active";t.hasAttribute(h)||t.classList.contains(i)||t.classList.add(i),t.hasAttribute(e)&&t.getAttribute(e)&&t.setAttribute(e,!0),t.hasAttribute(l)&&t.getAttribute(l)&&t.setAttribute(l,!0),t.hasAttribute(g)&&!t.getAttribute(g)&&t.setAttribute(g,!0);let s=p(t);for(let e=0;e<s.length;e++)s[e].classList.contains(i)||s[e].classList.add(i),w(s[e],t);x(t)},D=()=>{m(a).forEach(t=>{if(t.hasAttribute(o)){let e=t.getAttribute(o);T(e).length>0?console.warn(`Toggle group '${e}' must not have more than one trigger with '${a}'`):C(t)}else C(t)}),m().forEach(t=>{t.addEventListener(t.getAttribute(s)||"click",e=>{e.preventDefault(),(t.hasAttribute(o)?q:S)(t)},!1)});let t=m(i);t.length>0&&document.addEventListener("keyup",e=>{let r=!1;(r="key"in(e=e||window.event)?"Escape"===e.key||"Esc"===e.key:27===e.keyCode)&&t.forEach(t=>{t.isToggleActive&&(t.hasAttribute(o)?console.warn(`You can't use '${i}' on a grouped trigger`):S(t))})},!1)},O=()=>{D(),document.removeEventListener("DOMContentLoaded",O)};document.addEventListener("DOMContentLoaded",O),window.initEasyToggleState=D}();
