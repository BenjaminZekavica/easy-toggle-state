(t=>{const e=t=>"data-toggle-"+t,r={CLASS:e("class"),TARGET_ALL:e("target-all"),TARGET_PARENT:e("target-parent"),TARGET_SELF:e("target-self"),IS_ACTIVE:e("is-active"),GROUP:e("group"),EVENT:e("event"),OUTSIDE:e("outside"),TARGET_ONLY:e("target-only"),ESCAPE:e("escape"),TRIGGER_OFF:e("trigger-off"),TARGET_STATE:e("state"),EXPANDED:"aria-expanded",SELECTED:"aria-selected"},E=e=>e.hasAttribute(r.TARGET_ALL)?t.querySelectorAll(e.getAttribute(r.TARGET_ALL)):e.hasAttribute(r.TARGET_PARENT)?e.parentElement.querySelectorAll(e.getAttribute(r.TARGET_PARENT)):e.hasAttribute(r.TARGET_SELF)?e.querySelectorAll(e.getAttribute(r.TARGET_SELF)):[],A=e=>{let E=[];return[...t.querySelectorAll("["+r.CLASS+"]["+r.GROUP+'="'+e+'"]')].forEach(t=>{t.isToggleActive&&E.push(t)}),E},i=e=>{let E=e.target;E.closest("["+r.TARGET_STATE+'="true"]')||([...t.querySelectorAll("["+r.CLASS+"]["+r.OUTSIDE+"]")].forEach(t=>{t!=E&&t.isToggleActive&&(t.hasAttribute(r.GROUP)?T(t):g(t))}),E.hasAttribute(r.OUTSIDE)&&E.isToggleActive&&t.addEventListener(E.getAttribute(r.EVENT)||"click",i,!1))},l=t=>{g(t.target.targetElement)},s=e=>{e.hasAttribute(r.OUTSIDE)&&(e.hasAttribute(r.GROUP)?console.warn("You can't use '"+r.OUTSIDE+"' on a grouped trigger"):e.isToggleActive?t.addEventListener(e.getAttribute(r.EVENT)||"click",i,!1):t.removeEventListener(e.getAttribute(r.EVENT)||"click",i,!1))},a=(t,e)=>{e.hasAttribute(r.OUTSIDE)&&t.setAttribute(r.TARGET_STATE,e.isToggleActive);let E=t.querySelectorAll("["+r.TRIGGER_OFF+"]");E.length>0&&(e.isToggleActive?E.forEach(t=>{t.targetElement=e,t.addEventListener("click",l,!1)}):E.forEach(t=>{t.removeEventListener("click",l,!1)}))},T=t=>{let e=A(t.getAttribute(r.GROUP));e.length>0?-1===e.indexOf(t)&&(e.forEach(t=>{g(t)}),g(t)):g(t)},g=t=>{let e=t.getAttribute(r.CLASS);t.isToggleActive=!t.isToggleActive,t.hasAttribute(r.TARGET_ONLY)||t.classList.toggle(e),t.hasAttribute(r.EXPANDED)&&t.setAttribute(r.EXPANDED,t.isToggleActive),t.hasAttribute(r.SELECTED)&&t.setAttribute(r.SELECTED,t.isToggleActive);let A=E(t);for(var i=0;i<A.length;i++)A[i].classList.toggle(e),a(A[i],t);s(t)},o=t=>{t.isToggleActive=!0;let e=t.getAttribute(r.CLASS);t.hasAttribute(r.TARGET_ONLY)||t.classList.contains(e)||t.classList.add(e),t.hasAttribute(r.EXPANDED)&&t.getAttribute(r.EXPANDED)&&t.setAttribute(r.EXPANDED,!0),t.hasAttribute(r.SELECTED)&&!t.getAttribute(r.SELECTED)&&t.setAttribute(r.SELECTED,!0);let A=E(t);for(var i=0;i<A.length;i++)A[i].classList.contains(t.getAttribute(r.CLASS))||A[i].classList.add(e),a(A[i],t);s(t)},c=()=>{[...t.querySelectorAll("["+r.CLASS+"]["+r.IS_ACTIVE+"]")].forEach(t=>{if(t.hasAttribute(r.GROUP)){let e=t.getAttribute(r.GROUP);A(e).length>0?console.warn("Toggle group '"+e+"' must not have more than one trigger with '"+r.IS_ACTIVE+"'"):o(t)}else o(t)}),[...t.querySelectorAll("["+r.CLASS+"]")].forEach(t=>{t.addEventListener(t.getAttribute(r.EVENT)||"click",e=>{e.preventDefault(),t.hasAttribute(r.GROUP)?T(t):g(t)},!1)});let e=[...t.querySelectorAll("["+r.CLASS+"]["+r.ESCAPE+"]")];e.length>0&&t.addEventListener("keyup",t=>{let E=!1;(E="key"in(t=t||window.event)?"Escape"===t.key||"Esc"===t.key:27===t.keyCode)&&e.forEach(t=>{t.isToggleActive&&(t.hasAttribute(r.GROUP)?console.warn("You can't use '"+r.ESCAPE+"' on a grouped trigger"):g(t))})},!1)},n=()=>{c(),t.removeEventListener("DOMContentLoaded",n)};t.addEventListener("DOMContentLoaded",n),window.initEasyToggleState=c})(document);