!function(){"use strict";const t=t=>"data-toggle-"+t,e={CLASS:t("class"),TARGET_ALL:t("target-all"),TARGET_PARENT:t("target-parent"),TARGET_SELF:t("target-self"),IS_ACTIVE:t("is-active"),GROUP:t("group"),EVENT:t("event"),OUTSIDE:t("outside"),TARGET_ONLY:t("target-only"),ESCAPE:t("escape"),TRIGGER_OFF:t("trigger-off"),TARGET_STATE:t("state"),EXPANDED:"aria-expanded",SELECTED:"aria-selected"},A=t=>{let A=[];return[...document.querySelectorAll("["+e.CLASS+"]["+e.GROUP+'="'+t+'"]')].forEach(t=>{t.isToggleActive&&A.push(t)}),A},r=t=>t.hasAttribute(e.TARGET_ALL)?document.querySelectorAll(t.getAttribute(e.TARGET_ALL)):t.hasAttribute(e.TARGET_PARENT)?t.parentElement.querySelectorAll(t.getAttribute(e.TARGET_PARENT)):t.hasAttribute(e.TARGET_SELF)?t.querySelectorAll(t.getAttribute(e.TARGET_SELF)):[],E=t=>{let r=A(t.getAttribute(e.GROUP));r.length>0?-1===r.indexOf(t)&&(r.forEach(t=>{s(t)}),s(t)):s(t)},i=t=>{let A=t.target;A.closest("["+e.TARGET_STATE+'="true"]')||([...document.querySelectorAll("["+e.CLASS+"]["+e.OUTSIDE+"]")].forEach(t=>{t!=A&&t.isToggleActive&&(t.hasAttribute(e.GROUP)?E(t):s(t))}),A.hasAttribute(e.OUTSIDE)&&A.isToggleActive&&document.addEventListener(A.getAttribute(e.EVENT)||"click",i,!1))},l=t=>{t.hasAttribute(e.OUTSIDE)&&(t.hasAttribute(e.GROUP)?console.warn("You can't use '"+e.OUTSIDE+"' on a grouped trigger"):t.isToggleActive?document.addEventListener(t.getAttribute(e.EVENT)||"click",i,!1):document.removeEventListener(t.getAttribute(e.EVENT)||"click",i,!1))},s=t=>{let A=t.getAttribute(e.CLASS);t.isToggleActive=!t.isToggleActive,t.hasAttribute(e.TARGET_ONLY)||t.classList.toggle(A),t.hasAttribute(ARIA.EXPANDED)&&t.setAttribute(ARIA.EXPANDED,t.isToggleActive),t.hasAttribute(ARIA.SELECTED)&&t.setAttribute(ARIA.SELECTED,t.isToggleActive);let E=r(t);for(var i=0;i<E.length;i++)E[i].classList.toggle(A),a(E[i],t);l(t)},o=t=>{s(t.target.targetElement)},a=(t,A)=>{A.hasAttribute(e.OUTSIDE)&&t.setAttribute(e.TARGET_STATE,A.isToggleActive);let r=t.querySelectorAll("["+e.TRIGGER_OFF+"]");r.length>0&&(A.isToggleActive?r.forEach(t=>{t.targetElement=A,t.addEventListener("click",o,!1)}):r.forEach(t=>{t.removeEventListener("click",o,!1)}))},c=t=>{t.isToggleActive=!0;let A=t.getAttribute(e.CLASS);t.hasAttribute(e.TARGET_ONLY)||t.classList.contains(A)||t.classList.add(A),t.hasAttribute(ARIA.EXPANDED)&&t.getAttribute(ARIA.EXPANDED)&&t.setAttribute(ARIA.EXPANDED,!0),t.hasAttribute(ARIA.SELECTED)&&!t.getAttribute(ARIA.SELECTED)&&t.setAttribute(ARIA.SELECTED,!0);let E=r(t);for(var i=0;i<E.length;i++)E[i].classList.contains(t.getAttribute(e.CLASS))||E[i].classList.add(A),a(E[i],t);l(t)},n=()=>{[...document.querySelectorAll("["+e.CLASS+"]["+e.IS_ACTIVE+"]")].forEach(t=>{if(t.hasAttribute(e.GROUP)){let r=t.getAttribute(e.GROUP);A(r).length>0?console.warn("Toggle group '"+r+"' must not have more than one trigger with '"+e.IS_ACTIVE+"'"):c(t)}else c(t)}),[...document.querySelectorAll("["+e.CLASS+"]")].forEach(t=>{t.addEventListener(t.getAttribute(e.EVENT)||"click",A=>{A.preventDefault(),t.hasAttribute(e.GROUP)?E(t):s(t)},!1)});let t=[...document.querySelectorAll("["+e.CLASS+"]["+e.ESCAPE+"]")];t.length>0&&document.addEventListener("keyup",A=>{let r=!1;(r="key"in(A=A||window.event)?"Escape"===A.key||"Esc"===A.key:27===A.keyCode)&&t.forEach(t=>{t.isToggleActive&&(t.hasAttribute(e.GROUP)?console.warn("You can't use '"+e.ESCAPE+"' on a grouped trigger"):s(t))})},!1)},T=()=>{n(),document.removeEventListener("DOMContentLoaded",T)};document.addEventListener("DOMContentLoaded",T),window.initEasyToggleState=n}();
