!function(){"use strict";const t="toggle",e=e=>["data",t,e].filter(Boolean).join("-"),i="aria-checked",r=e("class"),s=e("escape"),l=e("event"),a="aria-expanded",o=e("group"),n="aria-hidden",g=e("is-active"),c=e("outside"),u="aria-selected",A=e("target"),h=e("target-all"),b=e("target-next"),d=e("target-only"),v=e("target-parent"),f=e("target-previous"),E=e("target-self"),m=e("state"),T=e("trigger-off"),L=t=>{const e=t?`[${t}]`:"";return[...document.querySelectorAll(`[${r}]${e}`.trim())]},p=t=>L(`${o}="${t}"`).filter(t=>t.isToggleActive),k=(t,e)=>{0===e.length&&console.warn(`There's no match for the selector '${t}' for this trigger`);const i=t.match(/#\w+/gi);return i&&i.forEach(t=>{let i=[...e].filter(e=>e.id===t.slice(1));i.length>1&&console.warn(`There's ${i.length} matches for the selector '${t}' for this trigger`)}),e},y=t=>{if(t.hasAttribute(A)||t.hasAttribute(h)){let e=t.getAttribute(A)||t.getAttribute(h);return k(e,document.querySelectorAll(e))}if(t.hasAttribute(v)){let e=t.getAttribute(v);return k(e,t.parentElement.querySelectorAll(e))}if(t.hasAttribute(E)){let e=t.getAttribute(E);return k(e,t.querySelectorAll(e))}return t.hasAttribute(f)?k("previous",[t.previousElementSibling].filter(Boolean)):t.hasAttribute(b)?k("next",[t.nextElementSibling].filter(Boolean)):[]},$=t=>{let e=t.target;e.closest("["+m+'="true"]')||(L(c).forEach(t=>{t!=e&&t.isToggleActive&&(t.hasAttribute(o)?C:x)(t)}),e.hasAttribute(c)&&e.isToggleActive&&document.addEventListener(e.getAttribute(l)||"click",$,!1))},w=t=>{x(t.target.targetElement)},S=t=>{t.hasAttribute(i)&&t.setAttribute(i,t.isToggleActive),t.hasAttribute(a)&&t.setAttribute(a,t.isToggleActive),t.hasAttribute(n)&&t.setAttribute(n,!t.isToggleActive),t.hasAttribute(u)&&t.setAttribute(u,t.isToggleActive)},q=(t,e)=>{t.isToggleActive=!t.isToggleActive,S(t),e.hasAttribute(c)&&t.setAttribute(m,e.isToggleActive);let i=t.querySelectorAll("["+T+"]");i.length>0&&(e.isToggleActive?i.forEach(t=>{t.targetElement=e,t.addEventListener("click",w,!1)}):i.forEach(t=>{t.removeEventListener("click",w,!1)}))},x=t=>{let e=t.getAttribute(r)||"is-active";t.isToggleActive=!t.isToggleActive,S(t),t.hasAttribute(d)||t.classList.toggle(e);let i=y(t);for(let r=0;r<i.length;r++)i[r].classList.toggle(e),q(i[r],t);B(t)},B=t=>{t.hasAttribute(c)&&(t.hasAttribute(o)?console.warn(`You can't use '${c}' on a grouped trigger`):t.isToggleActive?document.addEventListener(t.getAttribute(l)||"click",$,!1):document.removeEventListener(t.getAttribute(l)||"click",$,!1))},C=t=>{let e=p(t.getAttribute(o));e.length>0?-1===e.indexOf(t)&&(e.forEach(t=>{x(t)}),x(t)):x(t)},D=t=>{t.isToggleActive=!0;let e=t.getAttribute(r)||"is-active";t.hasAttribute(d)||t.classList.contains(e)||t.classList.add(e),t.hasAttribute(i)&&t.getAttribute(i)&&t.setAttribute(i,!0),t.hasAttribute(a)&&t.getAttribute(a)&&t.setAttribute(a,!0),t.hasAttribute(n)&&t.getAttribute(n)&&t.setAttribute(n,!1),t.hasAttribute(u)&&!t.getAttribute(u)&&t.setAttribute(u,!0);let s=y(t);for(let i=0;i<s.length;i++)s[i].classList.contains(e)||s[i].classList.add(e),q(s[i],t);B(t)},O=()=>{L(g).forEach(t=>{if(t.hasAttribute(o)){let e=t.getAttribute(o);p(e).length>0?console.warn(`Toggle group '${e}' must not have more than one trigger with '${g}'`):D(t)}else D(t)}),L().forEach(t=>{t.addEventListener(t.getAttribute(l)||"click",e=>{e.preventDefault(),(t.hasAttribute(o)?C:x)(t)},!1)});let t=L(s);t.length>0&&document.addEventListener("keyup",e=>{let i=!1;(i="key"in(e=e||window.event)?"Escape"===e.key||"Esc"===e.key:27===e.keyCode)&&t.forEach(t=>{t.isToggleActive&&(t.hasAttribute(o)?console.warn(`You can't use '${s}' on a grouped trigger`):x(t))})},!1)},M=()=>{O(),document.removeEventListener("DOMContentLoaded",M)};document.addEventListener("DOMContentLoaded",M),window.initEasyToggleState=O}();
