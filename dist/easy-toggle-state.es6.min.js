!function(){"use strict";const t=t=>`data-toggle-${t}`,e=t("class"),i=t("escape"),r=t("event"),s="aria-expanded",a=t("group"),l=t("is-active"),g=t("outside"),o="aria-selected",n=t("target"),c=t("target-all"),u=t("target-only"),A=t("target-parent"),d=t("target-self"),b=t("state"),h=t("trigger-off"),v=t=>{const i=t?`[${t}]`:"";return[...document.querySelectorAll(`[${e}]${i}`.trim())]},E=t=>v(`${a}="${t}"`).filter(t=>t.isToggleActive),f=t=>t.hasAttribute(n)||t.hasAttribute(c)?document.querySelectorAll(t.getAttribute(n)||t.getAttribute(c)):t.hasAttribute(A)?t.parentElement.querySelectorAll(t.getAttribute(A)):t.hasAttribute(d)?t.querySelectorAll(t.getAttribute(d)):[],m=t=>{let e=t.target;e.closest("["+b+'="true"]')||(v(g).forEach(t=>{t!=e&&t.isToggleActive&&(t.hasAttribute(a)?p:y)(t)}),e.hasAttribute(g)&&e.isToggleActive&&document.addEventListener(e.getAttribute(r)||"click",m,!1))},L=t=>{y(t.target.targetElement)},T=(t,e)=>{e.hasAttribute(g)&&t.setAttribute(b,e.isToggleActive);let i=t.querySelectorAll("["+h+"]");i.length>0&&(e.isToggleActive?i.forEach(t=>{t.targetElement=e,t.addEventListener("click",L,!1)}):i.forEach(t=>{t.removeEventListener("click",L,!1)}))},y=t=>{let i=t.getAttribute(e)||"is-active";t.isToggleActive=!t.isToggleActive,t.hasAttribute(u)||t.classList.toggle(i),t.hasAttribute(s)&&t.setAttribute(s,t.isToggleActive),t.hasAttribute(o)&&t.setAttribute(o,t.isToggleActive);let r=f(t);for(let e=0;e<r.length;e++)r[e].classList.toggle(i),T(r[e],t);k(t)},k=t=>{t.hasAttribute(g)&&(t.hasAttribute(a)?console.warn(`You can't use '${g}' on a grouped trigger`):t.isToggleActive?document.addEventListener(t.getAttribute(r)||"click",m,!1):document.removeEventListener(t.getAttribute(r)||"click",m,!1))},p=t=>{let e=E(t.getAttribute(a));e.length>0?-1===e.indexOf(t)&&(e.forEach(t=>{y(t)}),y(t)):y(t)},$=t=>{t.isToggleActive=!0;let i=t.getAttribute(e)||"is-active";t.hasAttribute(u)||t.classList.contains(i)||t.classList.add(i),t.hasAttribute(s)&&t.getAttribute(s)&&t.setAttribute(s,!0),t.hasAttribute(o)&&!t.getAttribute(o)&&t.setAttribute(o,!0);let r=f(t);for(let e=0;e<r.length;e++)r[e].classList.contains(i)||r[e].classList.add(i),T(r[e],t);k(t)},w=()=>{v(l).forEach(t=>{if(t.hasAttribute(a)){let e=t.getAttribute(a);E(e).length>0?console.warn(`Toggle group '${e}' must not have more than one trigger with '${l}'`):$(t)}else $(t)}),v().forEach(t=>{t.addEventListener(t.getAttribute(r)||"click",e=>{e.preventDefault(),(t.hasAttribute(a)?p:y)(t)},!1)});let t=v(i);t.length>0&&document.addEventListener("keyup",e=>{let r=!1;(r="key"in(e=e||window.event)?"Escape"===e.key||"Esc"===e.key:27===e.keyCode)&&t.forEach(t=>{t.isToggleActive&&(t.hasAttribute(a)?console.warn(`You can't use '${i}' on a grouped trigger`):y(t))})},!1)},S=()=>{w(),document.removeEventListener("DOMContentLoaded",S)};document.addEventListener("DOMContentLoaded",S),window.initEasyToggleState=w}();
