(t=>{const e="data-toggle-class",a="data-toggle-group",r="data-toggle-event",g="data-toggle-outside",l=e=>e.hasAttribute("data-toggle-target-all")?t.querySelectorAll(e.getAttribute("data-toggle-target-all")):e.hasAttribute("data-toggle-target-parent")?e.parentElement.querySelectorAll(e.getAttribute("data-toggle-target-parent")):e.hasAttribute("data-toggle-target-self")?e.querySelectorAll(e.getAttribute("data-toggle-target-self")):[],i=r=>{let g=[];return[...t.querySelectorAll("["+e+"]["+a+'="'+r+'"]')].forEach(t=>{t.isToggleActive&&g.push(t)}),g},o=l=>{let i=l.target;i.closest('[data-toggle-state="true"]')||([...t.querySelectorAll("["+e+"]["+g+"]")].forEach(t=>{t!=i&&t.isToggleActive&&(t.hasAttribute(a)?d(t):u(t))}),i.hasAttribute(g)&&i.isToggleActive&&t.addEventListener(i.getAttribute(r)||"click",o,!1))},s=t=>{u(t.target.targetElement)},c=e=>{e.hasAttribute(g)&&(e.hasAttribute(a)?console.error("You can't use '"+g+"' on a grouped trigger"):e.isToggleActive?t.addEventListener(e.getAttribute(r)||"click",o,!1):t.removeEventListener(e.getAttribute(r)||"click",o,!1))},n=(t,e)=>{e.hasAttribute(g)&&t.setAttribute("data-toggle-state",e.isToggleActive);let a=t.querySelectorAll("[data-toggle-trigger-off]");a.length>0&&(e.isToggleActive?a.forEach(t=>{t.targetElement=e,t.addEventListener("click",s,!1)}):a.forEach(t=>{t.removeEventListener("click",s,!1)}))},d=t=>{let e=i(t.getAttribute(a));e.length>0?-1===e.indexOf(t)&&(e.forEach(t=>{u(t)}),u(t)):u(t)},u=t=>{let a=t.getAttribute(e);t.isToggleActive=!t.isToggleActive,t.hasAttribute("data-toggle-target-only")||t.classList.toggle(a),t.hasAttribute("aria-expanded")&&t.setAttribute("aria-expanded",t.isToggleActive),t.hasAttribute("aria-selected")&&t.setAttribute("aria-selected",t.isToggleActive);let r=l(t);for(var g=0;g<r.length;g++)r[g].classList.toggle(a),n(r[g],t);c(t)},A=t=>{t.isToggleActive=!0;let a=t.getAttribute(e);t.hasAttribute("data-toggle-target-only")||t.classList.contains(a)||t.classList.add(a),t.hasAttribute("aria-expanded")&&t.getAttribute("aria-expanded")&&t.setAttribute("aria-expanded",!0),t.hasAttribute("aria-selected")&&!t.getAttribute("aria-selected")&&t.setAttribute("aria-selected",!0);let r=l(t);for(var g=0;g<r.length;g++)r[g].classList.contains(t.getAttribute(e))||r[g].classList.add(a),n(r[g],t);c(t)},b=()=>{[...t.querySelectorAll("["+e+"][data-toggle-is-active]")].forEach(t=>{if(t.hasAttribute(a)){let e=t.getAttribute(a);i(e).length>0?console.error("Toggle group '"+e+"' must not have more than one trigger with 'data-toggle-is-active'"):A(t)}else A(t)}),[...t.querySelectorAll("["+e+"]")].forEach(t=>{t.addEventListener(t.getAttribute(r)||"click",e=>{e.preventDefault(),t.hasAttribute(a)?d(t):u(t)},!1)});let g=[...t.querySelectorAll("["+e+"][data-toggle-escape]")];g.length>0&&t.addEventListener("keyup",t=>{let e=!1;(e="key"in(t=t||window.event)?"Escape"===t.key||"Esc"===t.key:27===t.keyCode)&&g.forEach(t=>{t.isToggleActive&&(t.hasAttribute(a)?console.error("You can't use 'data-toggle-escape' on a grouped trigger"):u(t))})},!1)},h=()=>{b(),t.removeEventListener("DOMContentLoaded",h)};t.addEventListener("DOMContentLoaded",h),window.initEasyToggleState=b})(document);