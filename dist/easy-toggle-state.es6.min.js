(t=>{const e="data-toggle-class",a="data-toggle-event",l="data-toggle-outside",r=e=>e.hasAttribute("data-toggle-target-all")?t.querySelectorAll(e.getAttribute("data-toggle-target-all")):e.hasAttribute("data-toggle-target-parent")?e.parentElement.querySelectorAll(e.getAttribute("data-toggle-target-parent")):e.hasAttribute("data-toggle-target-self")?e.querySelectorAll(e.getAttribute("data-toggle-target-self")):[],i=r=>{let g=r.target;g.closest('[data-toggle-state="true"]')||([...t.querySelectorAll("["+e+"]["+l+"]")].forEach(t=>{t!=g&&t.isToggleActive&&c(t)}),g.hasAttribute(l)&&g.isToggleActive&&t.addEventListener(g.getAttribute(a)||"click",i,!1))},g=t=>{c(t.target.targetElement)},s=e=>{e.hasAttribute(l)&&(e.isToggleActive?t.addEventListener(e.getAttribute(a)||"click",i,!1):t.removeEventListener(e.getAttribute(a)||"click",i,!1))},o=(t,e)=>{e.hasAttribute(l)&&t.setAttribute("data-toggle-state",e.isToggleActive);let a=t.querySelectorAll("[data-toggle-trigger-off]");a.length>0&&(e.isToggleActive?a.forEach(t=>{t.targetElement=e,t.addEventListener("click",g,!1)}):a.forEach(t=>{t.removeEventListener("click",g,!1)}))},c=t=>{let a=t.getAttribute(e);t.isToggleActive=!t.isToggleActive,t.hasAttribute("data-toggle-target-only")||t.classList.toggle(a),t.hasAttribute("aria-expanded")&&t.setAttribute("aria-expanded",t.isToggleActive),t.hasAttribute("aria-selected")&&t.setAttribute("aria-selected",t.isToggleActive);let l=r(t);for(var i=0;i<l.length;i++)l[i].classList.toggle(a),o(l[i],t);s(t)},d=()=>{[...t.querySelectorAll("["+e+"][data-toggle-is-active]")].forEach(t=>{t.isToggleActive=!0;let a=t.getAttribute(e);t.hasAttribute("data-toggle-target-only")||t.classList.contains(a)||t.classList.add(a),t.hasAttribute("aria-expanded")&&t.getAttribute("aria-expanded")&&t.setAttribute("aria-expanded",!0),t.hasAttribute("aria-selected")&&!t.getAttribute("aria-selected")&&t.setAttribute("aria-selected",!0);let l=r(t);for(var i=0;i<l.length;i++)l[i].classList.contains(t.getAttribute(e))||l[i].classList.add(a),o(l[i],t);s(t)}),[...t.querySelectorAll("["+e+"]")].forEach(t=>{t.addEventListener(t.getAttribute(a)||"click",e=>{e.preventDefault(),c(t)},!1)});let l=[...t.querySelectorAll("["+e+"][data-toggle-escape]")];l.length>0&&t.addEventListener("keyup",t=>{let e=!1;(e="key"in(t=t||window.event)?"Escape"===t.key||"Esc"===t.key:27===t.keyCode)&&l.forEach(t=>{t.isToggleActive&&c(t)})},!1)},n=()=>{d(),t.removeEventListener("DOMContentLoaded",n)};t.addEventListener("DOMContentLoaded",n),window.initEasyToggleState=d})(document);
//# sourceMappingURL=easy-toggle-state.es6.min.js.map
