!function(){"use strict";const t=t=>"data-toggle-"+t,e={CLASS:t("class"),TARGET_ALL:t("target-all"),TARGET_PARENT:t("target-parent"),TARGET_SELF:t("target-self"),IS_ACTIVE:t("is-active"),GROUP:t("group"),EVENT:t("event"),OUTSIDE:t("outside"),TARGET_ONLY:t("target-only"),ESCAPE:t("escape"),TRIGGER_OFF:t("trigger-off"),TARGET_STATE:t("state"),EXPANDED:"aria-expanded",SELECTED:"aria-selected"},r=t=>{let r=[];return[...document.querySelectorAll("["+e.CLASS+"]["+e.GROUP+'="'+t+'"]')].forEach(t=>{t.isToggleActive&&r.push(t)}),r},i=t=>t.hasAttribute(e.TARGET_ALL)?document.querySelectorAll(t.getAttribute(e.TARGET_ALL)):t.hasAttribute(e.TARGET_PARENT)?t.parentElement.querySelectorAll(t.getAttribute(e.TARGET_PARENT)):t.hasAttribute(e.TARGET_SELF)?t.querySelectorAll(t.getAttribute(e.TARGET_SELF)):[],E=t=>{let r=t.target;r.closest("["+e.TARGET_STATE+'="true"]')||([...document.querySelectorAll("["+e.CLASS+"]["+e.OUTSIDE+"]")].forEach(t=>{t!=r&&t.isToggleActive&&(t.hasAttribute(e.GROUP)?a(t):l(t))}),r.hasAttribute(e.OUTSIDE)&&r.isToggleActive&&document.addEventListener(r.getAttribute(e.EVENT)||"click",E,!1))},A=t=>{l(t.target.targetElement)},s=(t,r)=>{r.hasAttribute(e.OUTSIDE)&&t.setAttribute(e.TARGET_STATE,r.isToggleActive);let i=t.querySelectorAll("["+e.TRIGGER_OFF+"]");i.length>0&&(r.isToggleActive?i.forEach(t=>{t.targetElement=r,t.addEventListener("click",A,!1)}):i.forEach(t=>{t.removeEventListener("click",A,!1)}))},l=t=>{let r=t.getAttribute(e.CLASS)||"is-active";t.isToggleActive=!t.isToggleActive,t.hasAttribute(e.TARGET_ONLY)||t.classList.toggle(r),t.hasAttribute(e.EXPANDED)&&t.setAttribute(e.EXPANDED,t.isToggleActive),t.hasAttribute(e.SELECTED)&&t.setAttribute(e.SELECTED,t.isToggleActive);let E=i(t);for(var A=0;A<E.length;A++)E[A].classList.toggle(r),s(E[A],t);o(t)},o=t=>{t.hasAttribute(e.OUTSIDE)&&(t.hasAttribute(e.GROUP)?console.warn("You can't use '"+e.OUTSIDE+"' on a grouped trigger"):t.isToggleActive?document.addEventListener(t.getAttribute(e.EVENT)||"click",E,!1):document.removeEventListener(t.getAttribute(e.EVENT)||"click",E,!1))},a=t=>{let i=r(t.getAttribute(e.GROUP));i.length>0?-1===i.indexOf(t)&&(i.forEach(t=>{l(t)}),l(t)):l(t)},c=t=>{t.isToggleActive=!0;let r=t.getAttribute(e.CLASS)||"is-active";t.hasAttribute(e.TARGET_ONLY)||t.classList.contains(r)||t.classList.add(r),t.hasAttribute(e.EXPANDED)&&t.getAttribute(e.EXPANDED)&&t.setAttribute(e.EXPANDED,!0),t.hasAttribute(e.SELECTED)&&!t.getAttribute(e.SELECTED)&&t.setAttribute(e.SELECTED,!0);let E=i(t);for(var A=0;A<E.length;A++)E[A].classList.contains(r)||E[A].classList.add(r),s(E[A],t);o(t)},n=()=>{[...document.querySelectorAll("["+e.CLASS+"]["+e.IS_ACTIVE+"]")].forEach(t=>{if(t.hasAttribute(e.GROUP)){let i=t.getAttribute(e.GROUP);r(i).length>0?console.warn("Toggle group '"+i+"' must not have more than one trigger with '"+e.IS_ACTIVE+"'"):c(t)}else c(t)}),[...document.querySelectorAll("["+e.CLASS+"]")].forEach(t=>{t.addEventListener(t.getAttribute(e.EVENT)||"click",r=>{r.preventDefault(),t.hasAttribute(e.GROUP)?a(t):l(t)},!1)});let t=[...document.querySelectorAll("["+e.CLASS+"]["+e.ESCAPE+"]")];t.length>0&&document.addEventListener("keyup",r=>{let i=!1;(i="key"in(r=r||window.event)?"Escape"===r.key||"Esc"===r.key:27===r.keyCode)&&t.forEach(t=>{t.isToggleActive&&(t.hasAttribute(e.GROUP)?console.warn("You can't use '"+e.ESCAPE+"' on a grouped trigger"):l(t))})},!1)},T=()=>{n(),document.removeEventListener("DOMContentLoaded",T)};document.addEventListener("DOMContentLoaded",T),window.initEasyToggleState=n}();
