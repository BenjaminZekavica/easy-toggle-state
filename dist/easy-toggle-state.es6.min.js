!function(){"use strict";const t=t=>`data-toggle-${t}`,e="aria-checked",i=t("class"),r=t("escape"),s=t("event"),a="aria-expanded",g=t("group"),l=t("is-active"),o=t("outside"),c="aria-selected",n=t("target"),u=t("target-all"),A=t("target-only"),b=t("target-parent"),d=t("target-self"),h=t("state"),v=t("trigger-off"),E=t=>{const e=t?`[${t}]`:"";return[...document.querySelectorAll(`[${i}]${e}`.trim())]},f=t=>E(`${g}="${t}"`).filter(t=>t.isToggleActive),m=t=>t.hasAttribute(n)||t.hasAttribute(u)?document.querySelectorAll(t.getAttribute(n)||t.getAttribute(u)):t.hasAttribute(b)?t.parentElement.querySelectorAll(t.getAttribute(b)):t.hasAttribute(d)?t.querySelectorAll(t.getAttribute(d)):[],L=t=>{let e=t.target;e.closest("["+h+'="true"]')||(E(o).forEach(t=>{t!=e&&t.isToggleActive&&(t.hasAttribute(g)?w:p)(t)}),e.hasAttribute(o)&&e.isToggleActive&&document.addEventListener(e.getAttribute(s)||"click",L,!1))},T=t=>{p(t.target.targetElement)},k=t=>{t.hasAttribute(e)&&t.setAttribute(e,t.isToggleActive),t.hasAttribute(a)&&t.setAttribute(a,t.isToggleActive),t.hasAttribute(c)&&t.setAttribute(c,t.isToggleActive)},y=(t,e)=>{t.isToggleActive=!t.isToggleActive,k(t),e.hasAttribute(o)&&t.setAttribute(h,e.isToggleActive);let i=t.querySelectorAll("["+v+"]");i.length>0&&(e.isToggleActive?i.forEach(t=>{t.targetElement=e,t.addEventListener("click",T,!1)}):i.forEach(t=>{t.removeEventListener("click",T,!1)}))},p=t=>{let e=t.getAttribute(i)||"is-active";t.isToggleActive=!t.isToggleActive,k(t),t.hasAttribute(A)||t.classList.toggle(e);let r=m(t);for(let i=0;i<r.length;i++)r[i].classList.toggle(e),y(r[i],t);$(t)},$=t=>{t.hasAttribute(o)&&(t.hasAttribute(g)?console.warn(`You can't use '${o}' on a grouped trigger`):t.isToggleActive?document.addEventListener(t.getAttribute(s)||"click",L,!1):document.removeEventListener(t.getAttribute(s)||"click",L,!1))},w=t=>{let e=f(t.getAttribute(g));e.length>0?-1===e.indexOf(t)&&(e.forEach(t=>{p(t)}),p(t)):p(t)},S=t=>{t.isToggleActive=!0;let r=t.getAttribute(i)||"is-active";t.hasAttribute(A)||t.classList.contains(r)||t.classList.add(r),t.hasAttribute(e)&&t.getAttribute(e)&&t.setAttribute(e,!0),t.hasAttribute(a)&&t.getAttribute(a)&&t.setAttribute(a,!0),t.hasAttribute(c)&&!t.getAttribute(c)&&t.setAttribute(c,!0);let s=m(t);for(let e=0;e<s.length;e++)s[e].classList.contains(r)||s[e].classList.add(r),y(s[e],t);$(t)},q=()=>{E(l).forEach(t=>{if(t.hasAttribute(g)){let e=t.getAttribute(g);f(e).length>0?console.warn(`Toggle group '${e}' must not have more than one trigger with '${l}'`):S(t)}else S(t)}),E().forEach(t=>{t.addEventListener(t.getAttribute(s)||"click",e=>{e.preventDefault(),(t.hasAttribute(g)?w:p)(t)},!1)});let t=E(r);t.length>0&&document.addEventListener("keyup",e=>{let i=!1;(i="key"in(e=e||window.event)?"Escape"===e.key||"Esc"===e.key:27===e.keyCode)&&t.forEach(t=>{t.isToggleActive&&(t.hasAttribute(g)?console.warn(`You can't use '${r}' on a grouped trigger`):p(t))})},!1)},C=()=>{q(),document.removeEventListener("DOMContentLoaded",C)};document.addEventListener("DOMContentLoaded",C),window.initEasyToggleState=q}();
